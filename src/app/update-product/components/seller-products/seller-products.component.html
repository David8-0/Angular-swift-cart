<div class="container">
  <h1 class="text-center my-4">Your Products</h1>

  <div class="table-responsive">
    <table class="table table-success table-bordered table-hover">
      <thead>
        <tr>
          <th scope="col" class="text-center">Image</th>
          <th scope="col" class="text-center">Name</th>
          <th scope="col" class="text-center">Price</th>
          <th scope="col" class="text-center">Price discount</th>
          <th scope="col" class="text-center">Sales</th>
          <th scope="col" class="text-center">Quantity</th>
          <th scope="col" class="text-center">Creation date</th>
          <th scope="col" class="text-center">Category</th>
          <th scope="col" class="text-center">Brand</th>
          <th scope="col" class="text-center">Controls</th>
        </tr>
      </thead>
      <tbody>
        @for (item of productList; track $index) {
        <tr>
          <td class="center-text">
            <img [src]="item.imgCover" alt="" />
          </td>
          <td class="center-text work-sans-normal">{{ item.name }}</td>
          <td class="center-text work-sans-normal">{{ item.price | currency : "EGP" : "symbol" : "1.2-2"}}</td>
          <td class="center-text work-sans-normal">
            {{ item.priceDiscount | currency : "EGP" : "symbol" : "1.2-2"}}
          </td>
          <td class="center-text work-sans-normal">
            {{ item.productSales }}
          </td>
          <td class="center-text work-sans-normal">
            {{ item.productQuantity }}
          </td>
          <td class="center-text work-sans-normal">
            {{ item.creationDate | date : "short" }}
          </td>
          <td class="center-text work-sans-normal">
            {{ item.category }}
          </td>
          <td class="center-text work-sans-normal">{{ item.brand }}</td>
          <td class="center-text work-sans-normal">
            <a
              class="btn btn-secondary my-2 w-100"
              [routerLink]="['/updateProduct/edit-product', item._id]"
              >Edit</a
            ><br />
            <a class="btn btn-danger my-2 w-100" (click)="showDeleteDialog(item._id)"
              >Delete</a
            >
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>

<p-dialog
  header="Are you sure you want to Clear Your Cart ?"
  [(visible)]="deleteDialog"
>
  <div class="d-flex justify-content-center">
    <button class="btn btn-danger me-3" (click)="deleteProduct()">Yes</button>
    <button class="btn btn-info" (click)="noDelete()">No</button>
  </div>
</p-dialog>

<p-toast></p-toast>
